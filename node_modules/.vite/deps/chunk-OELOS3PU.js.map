{
  "version": 3,
  "sources": ["../../@webstudio-is/react-sdk/lib/runtime.js"],
  "sourcesContent": ["// src/context.tsx\nimport { createContext, useContext, useMemo } from \"react\";\nimport {\n  createJsonStringifyProxy,\n  isPlainObject\n} from \"@webstudio-is/sdk/runtime\";\nvar ReactSdkContext = createContext({\n  assetBaseUrl: \"/\",\n  imageBaseUrl: \"/\",\n  imageLoader: ({ src }) => src,\n  resources: {}\n});\nvar useResource = (name) => {\n  const { resources } = useContext(ReactSdkContext);\n  const resource = resources[name];\n  const resourceMemozied = useMemo(\n    () => isPlainObject(resource) ? createJsonStringifyProxy(resource) : resource,\n    [resource]\n  );\n  return resourceMemozied;\n};\n\n// src/hook.ts\nvar getClosestInstance = (instancePath, currentInstance, closestComponent) => {\n  let matched = false;\n  for (const instance of instancePath) {\n    if (currentInstance === instance) {\n      matched = true;\n    }\n    if (matched && instance.component === closestComponent) {\n      return instance;\n    }\n  }\n};\n\n// src/variable-state.tsx\nimport { useState, useMemo as useMemo2 } from \"react\";\nimport {\n  createJsonStringifyProxy as createJsonStringifyProxy2,\n  isPlainObject as isPlainObject2\n} from \"@webstudio-is/sdk/runtime\";\nvar useVariableState = (initialState) => {\n  const [state, setState] = useState(initialState);\n  const value = useMemo2(\n    () => isPlainObject2(state) ? createJsonStringifyProxy2(state) : state,\n    [state]\n  );\n  return [value, setState];\n};\n\n// src/runtime.ts\nvar getIndexWithinAncestorFromComponentProps = (props) => {\n  return props[\"data-ws-index\"];\n};\nexport {\n  ReactSdkContext,\n  getClosestInstance,\n  getIndexWithinAncestorFromComponentProps,\n  useResource,\n  useVariableState\n};\n"],
  "mappings": ";;;;;;;;;;;;AACA,mBAAmD;AAmCnD,IAAAA,gBAA8C;AA9B9C,IAAI,sBAAkB,4BAAc;AAAA,EAClC,cAAc;AAAA,EACd,cAAc;AAAA,EACd,aAAa,CAAC,EAAE,IAAI,MAAM;AAAA,EAC1B,WAAW,CAAC;AACd,CAAC;AACD,IAAI,cAAc,CAAC,SAAS;AAC1B,QAAM,EAAE,UAAU,QAAI,yBAAW,eAAe;AAChD,QAAM,WAAW,UAAU,IAAI;AAC/B,QAAM,uBAAmB;AAAA,IACvB,MAAM,cAAc,QAAQ,IAAI,yBAAyB,QAAQ,IAAI;AAAA,IACrE,CAAC,QAAQ;AAAA,EACX;AACA,SAAO;AACT;AAGA,IAAI,qBAAqB,CAAC,cAAc,iBAAiB,qBAAqB;AAC5E,MAAI,UAAU;AACd,aAAW,YAAY,cAAc;AACnC,QAAI,oBAAoB,UAAU;AAChC,gBAAU;AAAA,IACZ;AACA,QAAI,WAAW,SAAS,cAAc,kBAAkB;AACtD,aAAO;AAAA,IACT;AAAA,EACF;AACF;AAQA,IAAI,mBAAmB,CAAC,iBAAiB;AACvC,QAAM,CAAC,OAAO,QAAQ,QAAI,wBAAS,YAAY;AAC/C,QAAM,YAAQ,cAAAC;AAAA,IACZ,MAAM,cAAe,KAAK,IAAI,yBAA0B,KAAK,IAAI;AAAA,IACjE,CAAC,KAAK;AAAA,EACR;AACA,SAAO,CAAC,OAAO,QAAQ;AACzB;AAGA,IAAI,2CAA2C,CAAC,UAAU;AACxD,SAAO,MAAM,eAAe;AAC9B;",
  "names": ["import_react", "useMemo2"]
}
