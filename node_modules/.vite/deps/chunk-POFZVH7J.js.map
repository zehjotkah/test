{
  "version": 3,
  "sources": ["../../@webstudio-is/sdk/lib/runtime.js"],
  "sourcesContent": ["// src/resource-loader.ts\nvar LOCAL_RESOURCE_PREFIX = \"$resources\";\nvar isLocalResource = (pathname, resourceName) => {\n  const segments = pathname.split(\"/\").filter(Boolean);\n  if (resourceName === void 0) {\n    return segments[0] === LOCAL_RESOURCE_PREFIX;\n  }\n  return segments.join(\"/\") === `${LOCAL_RESOURCE_PREFIX}/${resourceName}`;\n};\nvar sitemapResourceUrl = `/${LOCAL_RESOURCE_PREFIX}/sitemap.xml`;\nvar loadResource = async (customFetch, resourceRequest) => {\n  const { url, method, headers, body } = resourceRequest;\n  const requestHeaders = new Headers(\n    headers.map(({ name, value }) => [name, value])\n  );\n  const requestInit = {\n    method,\n    headers: requestHeaders\n  };\n  if (method !== \"get\" && body !== void 0) {\n    if (typeof body === \"string\") {\n      requestInit.body = body;\n    }\n    if (typeof body === \"object\") {\n      requestInit.body = JSON.stringify(body);\n    }\n  }\n  try {\n    const response = await customFetch(url.trim(), requestInit);\n    let data = await response.text();\n    try {\n      data = JSON.parse(data);\n    } catch {\n    }\n    if (!response.ok) {\n      console.error(\n        `Failed to load resource: ${url} - ${response.status}: ${JSON.stringify(data).slice(0, 300)}`\n      );\n    }\n    return {\n      ok: response.ok,\n      data,\n      status: response.status,\n      statusText: response.statusText\n    };\n  } catch (error) {\n    console.error(error);\n    const message = error.message;\n    return {\n      ok: false,\n      data: void 0,\n      status: 500,\n      statusText: message\n    };\n  }\n};\nvar loadResources = async (customFetch, requests) => {\n  return Object.fromEntries(\n    await Promise.all(\n      Array.from(\n        requests,\n        async ([name, request]) => [name, await loadResource(customFetch, request)]\n      )\n    )\n  );\n};\n\n// src/to-string.ts\nvar createJsonStringifyProxy = (target) => {\n  return new Proxy(target, {\n    get(target2, prop, receiver) {\n      if (prop === \"toString\") {\n        return function() {\n          return JSON.stringify(target2);\n        };\n      }\n      const value = Reflect.get(target2, prop, receiver);\n      if (typeof value === \"object\" && value !== null) {\n        return createJsonStringifyProxy(value);\n      }\n      return value;\n    }\n  });\n};\nvar isPlainObject = (value) => {\n  return Object.prototype.toString.call(value) === \"[object Object]\" && (Object.getPrototypeOf(value) === null || Object.getPrototypeOf(value) === Object.prototype);\n};\n\n// src/form-fields.ts\nvar formIdFieldName = `ws--form-id`;\nvar formBotFieldName = `ws--form-bot`;\nexport {\n  createJsonStringifyProxy,\n  formBotFieldName,\n  formIdFieldName,\n  isLocalResource,\n  isPlainObject,\n  loadResource,\n  loadResources,\n  sitemapResourceUrl\n};\n"],
  "mappings": ";AACA,IAAI,wBAAwB;AAC5B,IAAI,kBAAkB,CAAC,UAAU,iBAAiB;AAChD,QAAM,WAAW,SAAS,MAAM,GAAG,EAAE,OAAO,OAAO;AACnD,MAAI,iBAAiB,QAAQ;AAC3B,WAAO,SAAS,CAAC,MAAM;AAAA,EACzB;AACA,SAAO,SAAS,KAAK,GAAG,MAAM,GAAG,qBAAqB,IAAI,YAAY;AACxE;AACA,IAAI,qBAAqB,IAAI,qBAAqB;AAClD,IAAI,eAAe,OAAO,aAAa,oBAAoB;AACzD,QAAM,EAAE,KAAK,QAAQ,SAAS,KAAK,IAAI;AACvC,QAAM,iBAAiB,IAAI;AAAA,IACzB,QAAQ,IAAI,CAAC,EAAE,MAAM,MAAM,MAAM,CAAC,MAAM,KAAK,CAAC;AAAA,EAChD;AACA,QAAM,cAAc;AAAA,IAClB;AAAA,IACA,SAAS;AAAA,EACX;AACA,MAAI,WAAW,SAAS,SAAS,QAAQ;AACvC,QAAI,OAAO,SAAS,UAAU;AAC5B,kBAAY,OAAO;AAAA,IACrB;AACA,QAAI,OAAO,SAAS,UAAU;AAC5B,kBAAY,OAAO,KAAK,UAAU,IAAI;AAAA,IACxC;AAAA,EACF;AACA,MAAI;AACF,UAAM,WAAW,MAAM,YAAY,IAAI,KAAK,GAAG,WAAW;AAC1D,QAAI,OAAO,MAAM,SAAS,KAAK;AAC/B,QAAI;AACF,aAAO,KAAK,MAAM,IAAI;AAAA,IACxB,QAAQ;AAAA,IACR;AACA,QAAI,CAAC,SAAS,IAAI;AAChB,cAAQ;AAAA,QACN,4BAA4B,GAAG,MAAM,SAAS,MAAM,KAAK,KAAK,UAAU,IAAI,EAAE,MAAM,GAAG,GAAG,CAAC;AAAA,MAC7F;AAAA,IACF;AACA,WAAO;AAAA,MACL,IAAI,SAAS;AAAA,MACb;AAAA,MACA,QAAQ,SAAS;AAAA,MACjB,YAAY,SAAS;AAAA,IACvB;AAAA,EACF,SAAS,OAAO;AACd,YAAQ,MAAM,KAAK;AACnB,UAAM,UAAU,MAAM;AACtB,WAAO;AAAA,MACL,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,YAAY;AAAA,IACd;AAAA,EACF;AACF;AACA,IAAI,gBAAgB,OAAO,aAAa,aAAa;AACnD,SAAO,OAAO;AAAA,IACZ,MAAM,QAAQ;AAAA,MACZ,MAAM;AAAA,QACJ;AAAA,QACA,OAAO,CAAC,MAAM,OAAO,MAAM,CAAC,MAAM,MAAM,aAAa,aAAa,OAAO,CAAC;AAAA,MAC5E;AAAA,IACF;AAAA,EACF;AACF;AAGA,IAAI,2BAA2B,CAAC,WAAW;AACzC,SAAO,IAAI,MAAM,QAAQ;AAAA,IACvB,IAAI,SAAS,MAAM,UAAU;AAC3B,UAAI,SAAS,YAAY;AACvB,eAAO,WAAW;AAChB,iBAAO,KAAK,UAAU,OAAO;AAAA,QAC/B;AAAA,MACF;AACA,YAAM,QAAQ,QAAQ,IAAI,SAAS,MAAM,QAAQ;AACjD,UAAI,OAAO,UAAU,YAAY,UAAU,MAAM;AAC/C,eAAO,yBAAyB,KAAK;AAAA,MACvC;AACA,aAAO;AAAA,IACT;AAAA,EACF,CAAC;AACH;AACA,IAAI,gBAAgB,CAAC,UAAU;AAC7B,SAAO,OAAO,UAAU,SAAS,KAAK,KAAK,MAAM,sBAAsB,OAAO,eAAe,KAAK,MAAM,QAAQ,OAAO,eAAe,KAAK,MAAM,OAAO;AAC1J;AAGA,IAAI,kBAAkB;AACtB,IAAI,mBAAmB;",
  "names": []
}
